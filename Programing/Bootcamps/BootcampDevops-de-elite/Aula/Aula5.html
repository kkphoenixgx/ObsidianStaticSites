<!DOCTYPE html>
<html lang="en"><head><title>Aula5</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;family=IBM Plex Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="KKPHOENIX"/><meta property="og:title" content="Aula5"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Aula5"/><meta name="twitter:description" content="Aula5 2023-01-27 tags: index-bootcamp-devops-de-elite Métricas: Prometeus Arquitetura Guarda dados de tempo em tempo Elementos coletados = jobs O prometeus pega os dados, não ao contrário, o código só disponibiliza A configuração base do prometheus é feita em .yaml Mão na massa Para fazer o prometeu..."/><meta property="og:description" content="Aula5 2023-01-27 tags: index-bootcamp-devops-de-elite Métricas: Prometeus Arquitetura Guarda dados de tempo em tempo Elementos coletados = jobs O prometeus pega os dados, não ao contrário, o código só disponibiliza A configuração base do prometheus é feita em .yaml Mão na massa Para fazer o prometeu..."/><meta property="og:image:alt" content="Aula5 2023-01-27 tags: index-bootcamp-devops-de-elite Métricas: Prometeus Arquitetura Guarda dados de tempo em tempo Elementos coletados = jobs O prometeus pega os dados, não ao contrário, o código só disponibiliza A configuração base do prometheus é feita em .yaml Mão na massa Para fazer o prometeu..."/><meta property="og:image" content="https://api-personalwebsite.kkphoenix.com.br/Study/static/og-image.png"/><meta property="og:image:url" content="https://api-personalwebsite.kkphoenix.com.br/Study/static/og-image.png"/><meta name="twitter:image" content="https://api-personalwebsite.kkphoenix.com.br/Study/static/og-image.png"/><meta property="og:image:type" content="image/.png"/><meta property="twitter:domain" content="api-personalwebsite.kkphoenix.com.br/Study"/><meta property="og:url" content="https://api-personalwebsite.kkphoenix.com.br/Study/Bootcamps/BootcampDevops-de-elite/Aula/Aula5"/><meta property="twitter:url" content="https://api-personalwebsite.kkphoenix.com.br/Study/Bootcamps/BootcampDevops-de-elite/Aula/Aula5"/><link rel="icon" href="../../../static/icon.png"/><meta name="description" content="Aula5 2023-01-27 tags: index-bootcamp-devops-de-elite Métricas: Prometeus Arquitetura Guarda dados de tempo em tempo Elementos coletados = jobs O prometeus pega os dados, não ao contrário, o código só disponibiliza A configuração base do prometheus é feita em .yaml Mão na massa Para fazer o prometeu..."/><meta name="generator" content="Quartz"/><link href="../../../index.css" rel="stylesheet" type="text/css" spa-preserve/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUva2twaG9lbml4L0RvY3VtZW50b3MvV29ya3NwYWNlL1F1YXJ0ei9xdWFydHpQcm9ncmFtaW5nL3F1YXJ0ei9jb21wb25lbnRzL3N0eWxlcyIsInNvdXJjZXMiOlsibWVybWFpZC5pbmxpbmUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTs7O0FBS0Y7RUFDRTtFQUNBOzs7QUFJSjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTs7QUFHRjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBOztBQUdGO0VBQ0U7RUFDQTs7QUFJSjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTs7QUFJRjtFQUNFO0VBQ0E7RUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi5leHBhbmQtYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmc6IDAuNHJlbTtcbiAgbWFyZ2luOiAwLjNyZW07XG4gIHJpZ2h0OiAwOyAvLyBOT1RFOiByaWdodCB3aWxsIGJlIHNldCBpbiBtZXJtYWlkLmlubGluZS50c1xuICBjb2xvcjogdmFyKC0tZ3JheSk7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tZGFyayk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0KTtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogMC4ycztcblxuICAmID4gc3ZnIHtcbiAgICBmaWxsOiB2YXIoLS1saWdodCk7XG4gICAgZmlsdGVyOiBjb250cmFzdCgwLjMpO1xuICB9XG5cbiAgJjpob3ZlciB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTtcbiAgfVxuXG4gICY6Zm9jdXMge1xuICAgIG91dGxpbmU6IDA7XG4gIH1cbn1cblxucHJlIHtcbiAgJjpob3ZlciA+IC5leHBhbmQtYnV0dG9uIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zaXRpb246IDAuMnM7XG4gIH1cbn1cblxuI21lcm1haWQtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBjb250YWluOiBsYXlvdXQ7XG4gIHotaW5kZXg6IDk5OTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwdnc7XG4gIGhlaWdodDogMTAwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGRpc3BsYXk6IG5vbmU7XG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG5cbiAgJi5hY3RpdmUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gICYgPiAjbWVybWFpZC1zcGFjZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgaGVpZ2h0OiA4MHZoO1xuICAgIHdpZHRoOiA4MHZ3O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAmID4gLm1lcm1haWQtY29udGVudCB7XG4gICAgICBwYWRkaW5nOiAycmVtO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXMgZWFzZTtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgbWluLWhlaWdodDogMjAwcHg7XG4gICAgICBtaW4td2lkdGg6IDIwMHB4O1xuXG4gICAgICBwcmUge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIH1cblxuICAgICAgc3ZnIHtcbiAgICAgICAgbWF4LXdpZHRoOiBub25lO1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICB9XG4gICAgfVxuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRyb2xzIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJvdHRvbTogMjBweDtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGdhcDogOHB4O1xuICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICB6LWluZGV4OiAyO1xuXG4gICAgICAubWVybWFpZC1jb250cm9sLWJ1dHRvbiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodGdyYXkpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1kYXJrKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWJvZHlGb250KTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodGdyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgJjphY3RpdmUge1xuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3R5bGUgdGhlIHJlc2V0IGJ1dHRvbiBkaWZmZXJlbnRseVxuICAgICAgICAmOm50aC1jaGlsZCgyKSB7XG4gICAgICAgICAgd2lkdGg6IGF1dG87XG4gICAgICAgICAgcGFkZGluZzogMCAxMnB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://api-personalwebsite.kkphoenix.com.br/Study/index.xml"/></head><body data-slug="Bootcamps/BootcampDevops-de-elite/Aula/Aula5"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title"><a href="https://www.kkphoenix.com.br/">KKPHOENIX</a></h1><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="Reader mode"><title>Reader mode</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slugSegment!==\&quot;tags\&quot;&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-141"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-141" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../Bootcamps/">Bootcamps</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../Bootcamps/BootcampDevops-de-elite/">BootcampDevops de elite</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../Bootcamps/BootcampDevops-de-elite/Aula/">Aula</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Aula5</a></div></nav><p show-comma="true" class="content-meta"><time datetime="2025-02-20T18:12:24.000Z">Feb 20, 2025</time><span>31 min read</span></p></div></div><article class="popover-hint"><h1 id="aula5">Aula5<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#aula5" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>2023-01-27
tags: <a href="../../../Bootcamps/BootcampDevops-de-elite/index-bootcamp-devops-de-elite" class="internal alias" data-slug="Bootcamps/BootcampDevops-de-elite/index-bootcamp-devops-de-elite">index-bootcamp-devops-de-elite</a></p>
<ul>
<li>Métricas:
<img src="../../.././img/Pasted-image-20230127171906.png" alt/>
<img src="../../.././img/Pasted-image-20230127172428.png" alt/></li>
</ul>
<h2 id="prometeus">Prometeus<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#prometeus" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><img src="../../.././img/Pasted-image-20230127172719.png" alt/></p>
<h3 id="arquitetura">Arquitetura<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#arquitetura" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../.././img/Pasted-image-20230127172900.png" alt/></p>
<p><img src="../../.././img/Pasted-image-20230127172914.png" alt/></p>
<ul>
<li>Guarda dados de tempo em tempo</li>
<li>Elementos coletados = jobs</li>
<li>O prometeus pega os dados, não ao contrário, o código só disponibiliza</li>
</ul>
<p><img src="../../.././img/Pasted-image-20230127173659.png" alt/>
<img src="../../.././img/Pasted-image-20230127173712.png" alt/></p>
<p>A configuração base do prometheus é feita em .yaml</p>
<p><img src="../../.././img/Pasted-image-20230127173805.png" alt/></p>
<h2 id="mão-na-massa">Mão na massa<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#mão-na-massa" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Para fazer o prometeus coletar dados dos seus pods, você deve criar uma anotation no metadata do pod</p>
<p><img src="../../.././img/Pasted-image-20230127175301.png" alt/></p>
<hr/>
<h2 id="bibliografia">Bibliografia<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bibliografia" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><a href="https://www.youtube.com/watch?v=jYC9KM5KCGM" class="external">https://www.youtube.com/watch?v=jYC9KM5KCGM<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<p>Instalação do prometeus:</p>
<pre><code>#                                      #

#                                      #

#                                      #

#                                      #

#       Instalação do Prometheus       #

#                                      #

#                                      #

#                                      #

#                                      #

apiVersion: v1

kind: ServiceAccount

metadata:

  labels:    

    helm.sh/chart: kube-state-metrics-4.13.0

    app.kubernetes.io/managed-by: Helm

    app.kubernetes.io/component: metrics

    app.kubernetes.io/part-of: kube-state-metrics

    app.kubernetes.io/name: kube-state-metrics

    app.kubernetes.io/instance: prometheus

    app.kubernetes.io/version: &quot;2.5.0&quot;

  name: prometheus-kube-state-metrics

  namespace: default

imagePullSecrets:

  []

---

apiVersion: v1

kind: ServiceAccount

metadata:

  labels:

    component: &quot;node-exporter&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-node-exporter

  namespace: default

  annotations:

    {}

---

apiVersion: v1

kind: ServiceAccount

metadata:

  labels:

    component: &quot;server&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-server

  namespace: default

  annotations:

    {}

---

apiVersion: v1

kind: ConfigMap

metadata:

  labels:

    component: &quot;server&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-server

  namespace: default

data:

  allow-snippet-annotations: &quot;false&quot;

  alerting_rules.yml: |

    {}

  alerts: |

    {}

  prometheus.yml: |

    global:

      evaluation_interval: 1m

      scrape_interval: 10s

      scrape_timeout: 10s

    rule_files:

    - /etc/config/recording_rules.yml

    - /etc/config/alerting_rules.yml

    - /etc/config/rules

    - /etc/config/alerts

    scrape_configs:

    - job_name: prometheus

      static_configs:

      - targets:

        - localhost:9090

    - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token

      job_name: kubernetes-apiservers

      kubernetes_sd_configs:

      - role: endpoints

      relabel_configs:

      - action: keep

        regex: default;kubernetes;https

        source_labels:

        - __meta_kubernetes_namespace

        - __meta_kubernetes_service_name

        - __meta_kubernetes_endpoint_port_name

      scheme: https

      tls_config:

        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt

        insecure_skip_verify: true

    - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token

      job_name: kubernetes-nodes

      kubernetes_sd_configs:

      - role: node

      relabel_configs:

      - action: labelmap

        regex: __meta_kubernetes_node_label_(.+)

      - replacement: kubernetes.default.svc:443

        target_label: __address__

      - regex: (.+)

        replacement: /api/v1/nodes/$1/proxy/metrics

        source_labels:

        - __meta_kubernetes_node_name

        target_label: __metrics_path__

      scheme: https

      tls_config:

        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt

        insecure_skip_verify: true

    - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token

      job_name: kubernetes-nodes-cadvisor

      kubernetes_sd_configs:

      - role: node

      relabel_configs:

      - action: labelmap

        regex: __meta_kubernetes_node_label_(.+)

      - replacement: kubernetes.default.svc:443

        target_label: __address__

      - regex: (.+)

        replacement: /api/v1/nodes/$1/proxy/metrics/cadvisor

        source_labels:

        - __meta_kubernetes_node_name

        target_label: __metrics_path__

      scheme: https

      tls_config:

        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt

        insecure_skip_verify: true

    - honor_labels: true

      job_name: kubernetes-service-endpoints

      kubernetes_sd_configs:

      - role: endpoints

      relabel_configs:

      - action: keep

        regex: true

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_scrape

      - action: drop

        regex: true

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_scrape_slow

      - action: replace

        regex: (https?)

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_scheme

        target_label: __scheme__

      - action: replace

        regex: (.+)

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_path

        target_label: __metrics_path__

      - action: replace

        regex: (.+?)(?::\d+)?;(\d+)

        replacement: $1:$2

        source_labels:

        - __address__

        - __meta_kubernetes_service_annotation_prometheus_io_port

        target_label: __address__

      - action: labelmap

        regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)

        replacement: __param_$1

      - action: labelmap

        regex: __meta_kubernetes_service_label_(.+)

      - action: replace

        source_labels:

        - __meta_kubernetes_namespace

        target_label: namespace

      - action: replace

        source_labels:

        - __meta_kubernetes_service_name

        target_label: service

      - action: replace

        source_labels:

        - __meta_kubernetes_pod_node_name

        target_label: node

    - honor_labels: true

      job_name: kubernetes-service-endpoints-slow

      kubernetes_sd_configs:

      - role: endpoints

      relabel_configs:

      - action: keep

        regex: true

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_scrape_slow

      - action: replace

        regex: (https?)

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_scheme

        target_label: __scheme__

      - action: replace

        regex: (.+)

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_path

        target_label: __metrics_path__

      - action: replace

        regex: (.+?)(?::\d+)?;(\d+)

        replacement: $1:$2

        source_labels:

        - __address__

        - __meta_kubernetes_service_annotation_prometheus_io_port

        target_label: __address__

      - action: labelmap

        regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)

        replacement: __param_$1

      - action: labelmap

        regex: __meta_kubernetes_service_label_(.+)

      - action: replace

        source_labels:

        - __meta_kubernetes_namespace

        target_label: namespace

      - action: replace

        source_labels:

        - __meta_kubernetes_service_name

        target_label: service

      - action: replace

        source_labels:

        - __meta_kubernetes_pod_node_name

        target_label: node

      scrape_interval: 5m

      scrape_timeout: 30s

    - honor_labels: true

      job_name: prometheus-pushgateway

      kubernetes_sd_configs:

      - role: service

      relabel_configs:

      - action: keep

        regex: pushgateway

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_probe

    - honor_labels: true

      job_name: kubernetes-services

      kubernetes_sd_configs:

      - role: service

      metrics_path: /probe

      params:

        module:

        - http_2xx

      relabel_configs:

      - action: keep

        regex: true

        source_labels:

        - __meta_kubernetes_service_annotation_prometheus_io_probe

      - source_labels:

        - __address__

        target_label: __param_target

      - replacement: blackbox

        target_label: __address__

      - source_labels:

        - __param_target

        target_label: instance

      - action: labelmap

        regex: __meta_kubernetes_service_label_(.+)

      - source_labels:

        - __meta_kubernetes_namespace

        target_label: namespace

      - source_labels:

        - __meta_kubernetes_service_name

        target_label: service

    - honor_labels: true

      job_name: kubernetes-pods

      kubernetes_sd_configs:

      - role: pod

      relabel_configs:

      - action: keep

        regex: true

        source_labels:

        - __meta_kubernetes_pod_annotation_prometheus_io_scrape

      - action: drop

        regex: true

        source_labels:

        - __meta_kubernetes_pod_annotation_prometheus_io_scrape_slow

      - action: replace

        regex: (https?)

        source_labels:

        - __meta_kubernetes_pod_annotation_prometheus_io_scheme

        target_label: __scheme__

      - action: replace

        regex: (.+)

        source_labels:

        - __meta_kubernetes_pod_annotation_prometheus_io_path

        target_label: __metrics_path__

      - action: replace

        regex: (.+?)(?::\d+)?;(\d+)

        replacement: $1:$2

        source_labels:

        - __address__

        - __meta_kubernetes_pod_annotation_prometheus_io_port

        target_label: __address__

      - action: labelmap

        regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)

        replacement: __param_$1

      - action: labelmap

        regex: __meta_kubernetes_pod_label_(.+)

      - action: replace

        source_labels:

        - __meta_kubernetes_namespace

        target_label: namespace

      - action: replace

        source_labels:

        - __meta_kubernetes_pod_name

        target_label: pod

      - action: drop

        regex: Pending|Succeeded|Failed|Completed

        source_labels:

        - __meta_kubernetes_pod_phase

    - honor_labels: true

      job_name: kubernetes-pods-slow

      kubernetes_sd_configs:

      - role: pod

      relabel_configs:

      - action: keep

        regex: true

        source_labels:

        - __meta_kubernetes_pod_annotation_prometheus_io_scrape_slow

      - action: replace

        regex: (https?)

        source_labels:

        - __meta_kubernetes_pod_annotation_prometheus_io_scheme

        target_label: __scheme__

      - action: replace

        regex: (.+)

        source_labels:

        - __meta_kubernetes_pod_annotation_prometheus_io_path

        target_label: __metrics_path__

      - action: replace

        regex: (.+?)(?::\d+)?;(\d+)

        replacement: $1:$2

        source_labels:

        - __address__

        - __meta_kubernetes_pod_annotation_prometheus_io_port

        target_label: __address__

      - action: labelmap

        regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)

        replacement: __param_$1

      - action: labelmap

        regex: __meta_kubernetes_pod_label_(.+)

      - action: replace

        source_labels:

        - __meta_kubernetes_namespace

        target_label: namespace

      - action: replace

        source_labels:

        - __meta_kubernetes_pod_name

        target_label: pod

      - action: drop

        regex: Pending|Succeeded|Failed|Completed

        source_labels:

        - __meta_kubernetes_pod_phase

      scrape_interval: 5m

      scrape_timeout: 30s

  recording_rules.yml: |

    {}

  rules: |

    {}

---

apiVersion: rbac.authorization.k8s.io/v1

kind: ClusterRole

metadata:

  labels:    

    helm.sh/chart: kube-state-metrics-4.13.0

    app.kubernetes.io/managed-by: Helm

    app.kubernetes.io/component: metrics

    app.kubernetes.io/part-of: kube-state-metrics

    app.kubernetes.io/name: kube-state-metrics

    app.kubernetes.io/instance: prometheus

    app.kubernetes.io/version: &quot;2.5.0&quot;

  name: prometheus-kube-state-metrics

rules:

  

- apiGroups: [&quot;certificates.k8s.io&quot;]

  resources:

  - certificatesigningrequests

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - configmaps

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;batch&quot;]

  resources:

  - cronjobs

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;extensions&quot;, &quot;apps&quot;]

  resources:

  - daemonsets

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;extensions&quot;, &quot;apps&quot;]

  resources:

  - deployments

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - endpoints

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;autoscaling&quot;]

  resources:

  - horizontalpodautoscalers

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;extensions&quot;, &quot;networking.k8s.io&quot;]

  resources:

  - ingresses

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;batch&quot;]

  resources:

  - jobs

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - limitranges

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;admissionregistration.k8s.io&quot;]

  resources:

    - mutatingwebhookconfigurations

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - namespaces

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;networking.k8s.io&quot;]

  resources:

  - networkpolicies

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - nodes

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - persistentvolumeclaims

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - persistentvolumes

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;policy&quot;]

  resources:

    - poddisruptionbudgets

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - pods

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;extensions&quot;, &quot;apps&quot;]

  resources:

  - replicasets

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - replicationcontrollers

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - resourcequotas

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - secrets

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;&quot;]

  resources:

  - services

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;apps&quot;]

  resources:

  - statefulsets

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;storage.k8s.io&quot;]

  resources:

    - storageclasses

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;admissionregistration.k8s.io&quot;]

  resources:

    - validatingwebhookconfigurations

  verbs: [&quot;list&quot;, &quot;watch&quot;]

  

- apiGroups: [&quot;storage.k8s.io&quot;]

  resources:

    - volumeattachments

  verbs: [&quot;list&quot;, &quot;watch&quot;]

---

apiVersion: rbac.authorization.k8s.io/v1

kind: ClusterRole

metadata:

  labels:

    component: &quot;server&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-server

rules:

  - apiGroups:

      - &quot;&quot;

    resources:

      - nodes

      - nodes/proxy

      - nodes/metrics

      - services

      - endpoints

      - pods

      - ingresses

      - configmaps

    verbs:

      - get

      - list

      - watch

  - apiGroups:

      - &quot;extensions&quot;

      - &quot;networking.k8s.io&quot;

    resources:

      - ingresses/status

      - ingresses

    verbs:

      - get

      - list

      - watch

  - nonResourceURLs:

      - &quot;/metrics&quot;

    verbs:

      - get

---

apiVersion: rbac.authorization.k8s.io/v1

kind: ClusterRoleBinding

metadata:

  labels:    

    helm.sh/chart: kube-state-metrics-4.13.0

    app.kubernetes.io/managed-by: Helm

    app.kubernetes.io/component: metrics

    app.kubernetes.io/part-of: kube-state-metrics

    app.kubernetes.io/name: kube-state-metrics

    app.kubernetes.io/instance: prometheus

    app.kubernetes.io/version: &quot;2.5.0&quot;

  name: prometheus-kube-state-metrics

roleRef:

  apiGroup: rbac.authorization.k8s.io

  kind: ClusterRole

  name: prometheus-kube-state-metrics

subjects:

- kind: ServiceAccount

  name: prometheus-kube-state-metrics

  namespace: default

---

apiVersion: rbac.authorization.k8s.io/v1

kind: ClusterRoleBinding

metadata:

  labels:

    component: &quot;server&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-server

subjects:

  - kind: ServiceAccount

    name: prometheus-server

    namespace: default

roleRef:

  apiGroup: rbac.authorization.k8s.io

  kind: ClusterRole

  name: prometheus-server

---

apiVersion: v1

kind: Service

metadata:

  name: prometheus-kube-state-metrics

  namespace: default

  labels:    

    helm.sh/chart: kube-state-metrics-4.13.0

    app.kubernetes.io/managed-by: Helm

    app.kubernetes.io/component: metrics

    app.kubernetes.io/part-of: kube-state-metrics

    app.kubernetes.io/name: kube-state-metrics

    app.kubernetes.io/instance: prometheus

    app.kubernetes.io/version: &quot;2.5.0&quot;

  annotations:

    prometheus.io/scrape: 'true'

spec:

  type: &quot;ClusterIP&quot;

  ports:

  - name: &quot;http&quot;

    protocol: TCP

    port: 8080

    targetPort: 8080

  selector:    

    app.kubernetes.io/name: kube-state-metrics

    app.kubernetes.io/instance: prometheus

---

apiVersion: v1

kind: Service

metadata:

  annotations:

    prometheus.io/scrape: &quot;true&quot;

  labels:

    component: &quot;node-exporter&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-node-exporter

  namespace: default

spec:

  ports:

    - name: metrics

      port: 9100

      protocol: TCP

      targetPort: 9100

  selector:

    component: &quot;node-exporter&quot;

    app: prometheus

    release: prometheus

  type: &quot;ClusterIP&quot;

---

apiVersion: v1

kind: Service

metadata:

  labels:

    component: &quot;server&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-server

  namespace: default

spec:

  ports:

    - name: http

      port: 80

      protocol: TCP

      targetPort: 9090

  selector:

    component: &quot;server&quot;

    app: prometheus

    release: prometheus

  sessionAffinity: None

  type: &quot;LoadBalancer&quot;

---

apiVersion: apps/v1

kind: DaemonSet

metadata:

  labels:

    component: &quot;node-exporter&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-node-exporter

  namespace: default

spec:

  selector:

    matchLabels:

      component: &quot;node-exporter&quot;

      app: prometheus

      release: prometheus

  updateStrategy:

    type: RollingUpdate

  template:

    metadata:

      labels:

        component: &quot;node-exporter&quot;

        app: prometheus

        release: prometheus

        chart: prometheus-15.16.1

        heritage: Helm

    spec:

      serviceAccountName: prometheus-node-exporter

      containers:

        - name: prometheus-node-exporter

          image: &quot;quay.io/prometheus/node-exporter:v1.3.1&quot;

          imagePullPolicy: &quot;IfNotPresent&quot;

          args:

            - --path.procfs=/host/proc

            - --path.sysfs=/host/sys

            - --path.rootfs=/host/root

            - --web.listen-address=:9100

          ports:

            - name: metrics

              containerPort: 9100

              hostPort: 9100

          resources:

            {}

          securityContext:

            allowPrivilegeEscalation: false          

          volumeMounts:

            - name: proc

              mountPath: /host/proc

              readOnly:  true

            - name: sys

              mountPath: /host/sys

              readOnly: true

            - name: root

              mountPath: /host/root

              mountPropagation: HostToContainer

              readOnly: true

      hostNetwork: true

      hostPID: true

      securityContext:

        fsGroup: 65534

        runAsGroup: 65534

        runAsNonRoot: true

        runAsUser: 65534

      volumes:

        - name: proc

          hostPath:

            path: /proc

        - name: sys

          hostPath:

            path: /sys

        - name: root

          hostPath:

            path: /

---

apiVersion: apps/v1

kind: Deployment

metadata:

  name: prometheus-kube-state-metrics

  namespace: default

  labels:    

    helm.sh/chart: kube-state-metrics-4.13.0

    app.kubernetes.io/managed-by: Helm

    app.kubernetes.io/component: metrics

    app.kubernetes.io/part-of: kube-state-metrics

    app.kubernetes.io/name: kube-state-metrics

    app.kubernetes.io/instance: prometheus

    app.kubernetes.io/version: &quot;2.5.0&quot;

spec:

  selector:

    matchLabels:      

      app.kubernetes.io/name: kube-state-metrics

      app.kubernetes.io/instance: prometheus

  replicas: 1

  template:

    metadata:

      labels:        

        helm.sh/chart: kube-state-metrics-4.13.0

        app.kubernetes.io/managed-by: Helm

        app.kubernetes.io/component: metrics

        app.kubernetes.io/part-of: kube-state-metrics

        app.kubernetes.io/name: kube-state-metrics

        app.kubernetes.io/instance: prometheus

        app.kubernetes.io/version: &quot;2.5.0&quot;

    spec:

      hostNetwork: false

      serviceAccountName: prometheus-kube-state-metrics

      securityContext:

        fsGroup: 65534

        runAsGroup: 65534

        runAsUser: 65534

      containers:

      - name: kube-state-metrics

        args:

        - --port=8080

        - --resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments

        - --telemetry-port=8081

        imagePullPolicy: IfNotPresent

        image: &quot;registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.5.0&quot;

        ports:

        - containerPort: 8080

          name: &quot;http&quot;

        livenessProbe:

          httpGet:

            path: /healthz

            port: 8080

          initialDelaySeconds: 5

          timeoutSeconds: 5

        readinessProbe:

          httpGet:

            path: /

            port: 8080

          initialDelaySeconds: 5

          timeoutSeconds: 5

---

apiVersion: apps/v1

kind: Deployment

metadata:

  labels:

    component: &quot;server&quot;

    app: prometheus

    release: prometheus

    chart: prometheus-15.16.1

    heritage: Helm

  name: prometheus-server

  namespace: default

spec:

  selector:

    matchLabels:

      component: &quot;server&quot;

      app: prometheus

      release: prometheus

  replicas: 1

  template:

    metadata:

      labels:

        component: &quot;server&quot;

        app: prometheus

        release: prometheus

        chart: prometheus-15.16.1

        heritage: Helm

    spec:

      enableServiceLinks: true

      serviceAccountName: prometheus-server

      containers:

        - name: prometheus-server-configmap-reload

          image: &quot;jimmidyson/configmap-reload:v0.5.0&quot;

          imagePullPolicy: &quot;IfNotPresent&quot;

          securityContext:

            {}

          args:

            - --volume-dir=/etc/config

            - --webhook-url=http://127.0.0.1:9090/-/reload

          resources:

            {}

          volumeMounts:

            - name: config-volume

              mountPath: /etc/config

              readOnly: true

  

        - name: prometheus-server

          image: &quot;quay.io/prometheus/prometheus:v2.39.1&quot;

          imagePullPolicy: &quot;IfNotPresent&quot;

          args:

            - --storage.tsdb.retention.time=15d

            - --config.file=/etc/config/prometheus.yml

            - --storage.tsdb.path=/data

            - --web.console.libraries=/etc/prometheus/console_libraries

            - --web.console.templates=/etc/prometheus/consoles

            - --web.enable-lifecycle

          ports:

            - containerPort: 9090

          readinessProbe:

            httpGet:

              path: /-/ready

              port: 9090

              scheme: HTTP

            initialDelaySeconds: 30

            periodSeconds: 5

            timeoutSeconds: 4

            failureThreshold: 3

            successThreshold: 1

          livenessProbe:

            httpGet:

              path: /-/healthy

              port: 9090

              scheme: HTTP

            initialDelaySeconds: 30

            periodSeconds: 15

            timeoutSeconds: 10

            failureThreshold: 3

            successThreshold: 1

          resources:

            {}

          volumeMounts:

            - name: config-volume

              mountPath: /etc/config

            - name: storage-volume

              mountPath: /data

              subPath: &quot;&quot;

      dnsPolicy: ClusterFirst

      securityContext:

        fsGroup: 65534

        runAsGroup: 65534

        runAsNonRoot: true

        runAsUser: 65534

      terminationGracePeriodSeconds: 300

      volumes:

        - name: config-volume

          configMap:

            name: prometheus-server

        - name: storage-volume

          emptyDir:

            {}

---

#                                      #

#                                      #

#                                      #

#                                      #

#       Instalação do Grafana          #

#                                      #

#                                      #

#                                      #

#                                      #

  

# apiVersion: policy/v1beta1

# kind: PodSecurityPolicy

# metadata:

#   name: grafana-test

#   annotations:

#     &quot;helm.sh/hook&quot;: test-success

#     &quot;helm.sh/hook-delete-policy&quot;: &quot;before-hook-creation,hook-succeeded&quot;

#   labels:

#     helm.sh/chart: grafana-6.42.3

#     app.kubernetes.io/name: grafana

#     app.kubernetes.io/instance: grafana

#     app.kubernetes.io/version: &quot;9.2.0&quot;

#     app.kubernetes.io/managed-by: Helm

# spec:

#   allowPrivilegeEscalation: true

#   privileged: false

#   hostNetwork: false

#   hostIPC: false

#   hostPID: false

#   fsGroup:

#     rule: RunAsAny

#   seLinux:

#     rule: RunAsAny

#   supplementalGroups:

#     rule: RunAsAny

#   runAsUser:

#     rule: RunAsAny

#   volumes:

#   - configMap

#   - downwardAPI

#   - emptyDir

#   - projected

#   - csi

#   - secret

---

apiVersion: v1

kind: ServiceAccount

metadata:

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

  name: grafana-test

  namespace: default

  annotations:

    &quot;helm.sh/hook&quot;: test-success

    &quot;helm.sh/hook-delete-policy&quot;: &quot;before-hook-creation,hook-succeeded&quot;

---

apiVersion: v1

kind: ConfigMap

metadata:

  name: grafana-test

  namespace: default

  annotations:

    &quot;helm.sh/hook&quot;: test-success

    &quot;helm.sh/hook-delete-policy&quot;: &quot;before-hook-creation,hook-succeeded&quot;

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

data:

  run.sh: |-

    @test &quot;Test Health&quot; {

      url=&quot;http://grafana/api/health&quot;

  

      code=$(wget --server-response --spider --timeout 90 --tries 10 ${url} 2>&amp;1 | awk '/^  HTTP/{print $2}')

      [ &quot;$code&quot; == &quot;200&quot; ]

    }

---

apiVersion: rbac.authorization.k8s.io/v1

kind: Role

metadata:

  name: grafana-test

  namespace: default

  annotations:

    &quot;helm.sh/hook&quot;: test-success

    &quot;helm.sh/hook-delete-policy&quot;: &quot;before-hook-creation,hook-succeeded&quot;

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

rules:

- apiGroups:      ['policy']

  resources:      ['podsecuritypolicies']

  verbs:          ['use']

  resourceNames:  [grafana-test]

---

apiVersion: rbac.authorization.k8s.io/v1

kind: RoleBinding

metadata:

  name: grafana-test

  namespace: default

  annotations:

    &quot;helm.sh/hook&quot;: test-success

    &quot;helm.sh/hook-delete-policy&quot;: &quot;before-hook-creation,hook-succeeded&quot;

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

roleRef:

  apiGroup: rbac.authorization.k8s.io

  kind: Role

  name: grafana-test

subjects:

- kind: ServiceAccount

  name: grafana-test

  namespace: default

---

apiVersion: v1

kind: Pod

metadata:

  name: grafana-test

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

  annotations:

    &quot;helm.sh/hook&quot;: test-success

    &quot;helm.sh/hook-delete-policy&quot;: &quot;before-hook-creation,hook-succeeded&quot;

  namespace: default

spec:

  serviceAccountName: grafana-test

  containers:

    - name: grafana-test

      image: &quot;bats/bats:v1.4.1&quot;

      imagePullPolicy: &quot;IfNotPresent&quot;

      command: [&quot;/opt/bats/bin/bats&quot;, &quot;-t&quot;, &quot;/tests/run.sh&quot;]

      volumeMounts:

        - mountPath: /tests

          name: tests

          readOnly: true

  volumes:

  - name: tests

    configMap:

      name: grafana-test

  restartPolicy: Never

# MANIFEST:

---

# apiVersion: policy/v1beta1

# kind: PodSecurityPolicy

# metadata:

#   name: grafana

#   labels:

#     helm.sh/chart: grafana-6.42.3

#     app.kubernetes.io/name: grafana

#     app.kubernetes.io/instance: grafana

#     app.kubernetes.io/version: &quot;9.2.0&quot;

#     app.kubernetes.io/managed-by: Helm

#   annotations:

#     seccomp.security.alpha.kubernetes.io/allowedProfileNames: 'docker/default,runtime/default'

#     seccomp.security.alpha.kubernetes.io/defaultProfileName:  'docker/default'

#     apparmor.security.beta.kubernetes.io/allowedProfileNames: 'runtime/default'

#     apparmor.security.beta.kubernetes.io/defaultProfileName:  'runtime/default'

# spec:

#   privileged: false

#   allowPrivilegeEscalation: false

#   requiredDropCapabilities:

#       - ALL

#   volumes:

#     - 'configMap'

#     - 'emptyDir'

#     - 'projected'

#     - 'csi'

#     - 'secret'

#     - 'downwardAPI'

#     - 'persistentVolumeClaim'

#   hostNetwork: false

#   hostIPC: false

#   hostPID: false

#   runAsUser:

#     rule: 'RunAsAny'

#   seLinux:

#     rule: 'RunAsAny'

#   supplementalGroups:

#     rule: 'MustRunAs'

#     ranges:

#       - min: 1

#         max: 65535

#   fsGroup:

#     rule: 'MustRunAs'

#     ranges:

#       - min: 1

#         max: 65535

#   readOnlyRootFilesystem: false

---

apiVersion: v1

kind: ServiceAccount

metadata:

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

  name: grafana

  namespace: default

---

apiVersion: v1

kind: Secret

metadata:

  name: grafana

  namespace: default

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

type: Opaque

data:

  admin-user: &quot;YWRtaW4=&quot;

  admin-password: &quot;elJSYW15bFVHT2ZrRzNSeW1aaUdNeHljYkNJdWFhMHBQMFdlVFVmNA==&quot;

  ldap-toml: &quot;&quot;

---

apiVersion: v1

kind: ConfigMap

metadata:

  name: grafana

  namespace: default

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

data:

  grafana.ini: |

    [analytics]

    check_for_updates = true

    [grafana_net]

    url = https://grafana.net

    [log]

    mode = console

    [paths]

    data = /var/lib/grafana/

    logs = /var/log/grafana

    plugins = /var/lib/grafana/plugins

    provisioning = /etc/grafana/provisioning

    [server]

    domain = ''

---

kind: ClusterRole

apiVersion: rbac.authorization.k8s.io/v1

metadata:

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

  name: grafana-clusterrole

rules: []

---

kind: ClusterRoleBinding

apiVersion: rbac.authorization.k8s.io/v1

metadata:

  name: grafana-clusterrolebinding

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

subjects:

  - kind: ServiceAccount

    name: grafana

    namespace: default

roleRef:

  kind: ClusterRole

  name: grafana-clusterrole

  apiGroup: rbac.authorization.k8s.io

---

apiVersion: rbac.authorization.k8s.io/v1

kind: Role

metadata:

  name: grafana

  namespace: default

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

rules:

- apiGroups:      ['extensions']

  resources:      ['podsecuritypolicies']

  verbs:          ['use']

  resourceNames:  [grafana]

---

apiVersion: rbac.authorization.k8s.io/v1

kind: RoleBinding

metadata:

  name: grafana

  namespace: default

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

roleRef:

  apiGroup: rbac.authorization.k8s.io

  kind: Role

  name: grafana

subjects:

- kind: ServiceAccount

  name: grafana

  namespace: default

---

apiVersion: v1

kind: Service

metadata:

  name: grafana

  namespace: default

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

spec:

  type: LoadBalancer

  ports:

    - name: service

      port: 80

      protocol: TCP

      targetPort: 3000

  selector:

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

---

apiVersion: apps/v1

kind: Deployment

metadata:

  name: grafana

  namespace: default

  labels:

    helm.sh/chart: grafana-6.42.3

    app.kubernetes.io/name: grafana

    app.kubernetes.io/instance: grafana

    app.kubernetes.io/version: &quot;9.2.0&quot;

    app.kubernetes.io/managed-by: Helm

spec:

  replicas: 1

  revisionHistoryLimit: 10

  selector:

    matchLabels:

      app.kubernetes.io/name: grafana

      app.kubernetes.io/instance: grafana

  strategy:

    type: RollingUpdate

  template:

    metadata:

      labels:

        app.kubernetes.io/name: grafana

        app.kubernetes.io/instance: grafana

      annotations:

        checksum/config: a8c8847238aeaa0d1355146b6c8e756ecb7e07efbbb41ac75aa2161d64b187c4

        checksum/dashboards-json-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b

        checksum/sc-dashboard-provider-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b

        checksum/secret: 15caba8a376b523cef17172a7980899691cf78da1b509babef4d6f289612feb3

    spec:      

      serviceAccountName: grafana

      automountServiceAccountToken: true

      securityContext:

        fsGroup: 472

        runAsGroup: 472

        runAsUser: 472

      enableServiceLinks: true

      containers:

        - name: grafana

          image: &quot;grafana/grafana:9.2.0&quot;

          imagePullPolicy: IfNotPresent

          volumeMounts:

            - name: config

              mountPath: &quot;/etc/grafana/grafana.ini&quot;

              subPath: grafana.ini

            - name: storage

              mountPath: &quot;/var/lib/grafana&quot;

          ports:

            - name: grafana

              containerPort: 3000

              protocol: TCP

          env:

            - name: GF_SECURITY_ADMIN_USER

              valueFrom:

                secretKeyRef:

                  name: grafana

                  key: admin-user

            - name: GF_SECURITY_ADMIN_PASSWORD

              valueFrom:

                secretKeyRef:

                  name: grafana

                  key: admin-password

            - name: GF_PATHS_DATA

              value: /var/lib/grafana/

            - name: GF_PATHS_LOGS

              value: /var/log/grafana

            - name: GF_PATHS_PLUGINS

              value: /var/lib/grafana/plugins

            - name: GF_PATHS_PROVISIONING

              value: /etc/grafana/provisioning

          livenessProbe:

            failureThreshold: 10

            httpGet:

              path: /api/health

              port: 3000

            initialDelaySeconds: 60

            timeoutSeconds: 30

          readinessProbe:

            httpGet:

              path: /api/health

              port: 3000

      volumes:

        - name: config

          configMap:

            name: grafana

        - name: storage

          emptyDir: {}
</code></pre></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-31" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul id="list-1" class="toc-content overflow"><li class="depth-0"><a href="#aula5" data-for="aula5">Aula5</a></li><li class="depth-1"><a href="#prometeus" data-for="prometeus">Prometeus</a></li><li class="depth-2"><a href="#arquitetura" data-for="arquitetura">Arquitetura</a></li><li class="depth-1"><a href="#mão-na-massa" data-for="mão-na-massa">Mão na massa</a></li><li class="depth-1"><a href="#bibliografia" data-for="bibliografia">Bibliografia</a></li><li class="overflow-end"></li></ul></div><div class="backlinks"><h3>Backlinks</h3><ul id="list-2" class="overflow"><li><a href="../../../🏠-Home" class="internal">🏠 Home</a></li><li class="overflow-end"></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.5.1</a> © 2026</p><ul><li><a href="https://github.com/kkphoenixgx">GitHub</a></li><li><a href="kauaAlvesWorkplace@gmail.com">Gmail</a></li></ul></footer></div></div></body><script type="application/javascript">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../../../postscript.js" type="module"></script></html>